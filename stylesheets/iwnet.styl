/*
  iestynwillams.net styles
  Copyright Iestyn Williams 2014
 */

// Imports
@import "nib"
@import "rupture"
@import "jeet"

// Colours
white = #FFF
black = #5E5E5E
grey_dark = #8E8E8E
grey_light = #DEDEDE
primary = hsla(270, 100%, 50%, 1)

// Type
font_heading = "freight-sans-pro", "Helvetica Neue", "Helvetica", sans-serif
font_body = "ff-tisa-web-pro", "Helvetica", serif

// Main
global-reset()

*
  box-sizing border-box

html
  position relative
  min-height 100%
  transition all 200ms ease-in

body
  background white
  font 1.0625em/1.3 font_body
  padding-bottom 6em

h1
  font 2.5em/1.2 font_heading
  font-weight bold
  margin-bottom 1em
h2
  font-size 1.4em
  font-weight normal
  margin-bottom 1em

h3
  font-size 1.2em
  font-weight bold
  margin-bottom 1em

p
  font-size 1em
  line-height 1.5
  margin-bottom 1em

pre
  max-width 100%
  word-break break-word
  background #f5f5f5
  color #2F6F9F
  padding 0.5em
  border-radius 3px
code
  font-family "Fira Sans Mono", "Fira Mono"
  font-size 80%
  color #D08770

.pln
  color: #D08770 //plain text
.str
  color: #60B029 //string content
.kwd
  color: #EBCB8B //a keyword
.com
  color: #65737E //a comment
.typ
  color: #EBCB8B //a type name
.lit
  color: #C0C5CE //a literal value
//punctuation, lisp open bracket, lisp close bracket
.pun, .opn, .clo
  color: #D08770
.tag
  color: #BF616A  //a markup tag name
.atn
  color: #D08770 //a markup attribute name
.atv
  color: #A3BE8C //a markup attribute value
.dec, .var
  color: #8FA1B3 //a declaration; a variable name
.fun
  color: #8FA1B3 //a function name

h1
h2
p
  code
    border-radius 3px

.link,
a
  color primary
  text-decoration none
  background rgba(primary, 0.025)
  text-decoration underline
  &:hover
    text-decoration underline
  &:visited
    color black

small
  color grey_dark

article
  border-bottom 2px solid grey_light
  padding-bottom 2em
  margin-bottom 5em
  & > a
    color black
    text-decoration none
    &:hover
      @extend .link
  h2
    margin 1em 0 0.5em

.logo
  background none
  svg
    width 1.764705882em
    height 1.411764706em
    fill primary

.nav
  font-family font_heading
  position fixed
  top 0
  left 0
  width 100%
  margin 0 auto
  background rgba(white, 0.8)

.nav__inner
  max-width 40em
  margin 0 auto
  padding 1em
  ul
    display inline-block
    list-style none
    height 1.411764706em
    float right
  li
    display inline-block
    vertical-align middle
    a
      display block
      position relative
      text-decoration none
      letter-spacing -0.5px
      color primary
      background transparent
      padding 0.25em 0.5em
      border-bottom 3px solid grey_light
      transition all 300ms ease
      svg
        height 1.3em
        width @height
        fill primary
        display block
        vertical-align middle
        padding 2px
      &.active
      &:active
        cursor default
        border-bottom 3px solid @color
        &:hover
          border-bottom 3px solid @color
      &:hover
        border-bottom 3px solid rgba(@color, 0.5)

.container
  max-width 35em
  margin 5em auto 0
  padding 0 0.5em

footer
  font-family font_heading
  text-align center
  position absolute
  left 0
  bottom 0
  width 100%
  padding 1em
  p
    margin 0
    letter-spacing -1px
    color grey_light
  ul
    text-align right
    list-style none
  li
    display inline-block
    margin-right 1em



// At night...
night = hsl(170, 100%, 50%)
body.night-mode
  background black
  color grey_light
  a
  .link
    color night
    background rgba(night, 0.05)
    svg
      fill night
  .logo svg
    fill night
  .nav ul li a.active
    border-color night
  .nav ul li a:hover
    border-color rgba(night, 0.6)
  .nav
    background rgba(black, 0.8)
  article > a
    color grey_light
    &:hover
      color grey_light
  pre
    background #2B303B
  code
    color hsl(140, 100%, 80%)
  .pln
    color: #D08770 //plain text
  .str
    color: #60B029 //string content
  .kwd
    color: #EBCB8B //a keyword
  .com
    color: #65737E //a comment
  .typ
    color: #EBCB8B //a type name
  .lit
    color: #C0C5CE //a literal value
  //punctuation, lisp open bracket, lisp close bracket
  .pun, .opn, .clo
    color: #D08770
  .tag
    color: #BF616A  //a markup tag name
  .atn
    color: #D08770 //a markup attribute name
  .atv
    color: #A3BE8C //a markup attribute value
  .dec, .var
    color: #8FA1B3 //a declaration; a variable name
  .fun
    color: #8FA1B3 //a function name


// Breakpoints

+above(20em)
  .container
    padding 0 1.5em
    font-size 90%
+above(48em)
  body
    font-size 115%
+above(60em)
  body
    font-size 130%

.wf-loading
  opacity 0